---
import { postService } from '@service/post'
import { SITE_DESCRIPTION, SITE_SUB_TITLE, SITE_TITLE } from '@constant/app'
import Header from '@component/Header.astro'
import PostList from '@component/PostList.astro'
import MainLayout from '../layout/Main.astro'
import Page from '../layout/Page.astro'

const title = `${SITE_TITLE} | ${SITE_SUB_TITLE}`

const categories = await postService.getCategories()
const list = await postService.listWithHome()
---

<Page title={title} description={SITE_DESCRIPTION}>
  <Header list={categories}/>
  <MainLayout>
    <PostList home list={list} />
  </MainLayout>
</Page>
